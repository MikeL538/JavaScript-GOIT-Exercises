{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAOC,SAASC,cAAc,kCAC9BC,EAAQF,SAASC,cAAc,uBAC/BE,EAAUH,SAASC,cAAc,4BAEjCG,EAAgBC,EAAAR,EAAA,EAAS,KAC7B,MAAMS,EAAY,CAChBC,MAAOL,EAAMM,MACbC,QAASN,EAAQK,OAGnBE,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUP,GAAW,GACrE,KAEHP,EAAKe,iBAAiB,QAASV,GAE/B,MAAMW,EAAkBL,aAAaM,QAAQ,uBAC7C,GAAID,EAAiB,CACnB,MAAME,EAAkBL,KAAKM,MAAMH,GACnCb,EAAMM,MAAQS,EAAgBV,MAC9BJ,EAAQK,MAAQS,EAAgBR,O,CAGlCV,EAAKe,iBAAiB,UAAUK,IAC9BA,EAAMC,iBACc,KAAhBlB,EAAMM,OAAkC,KAAlBL,EAAQK,OAIhCa,QAAQC,IAAI,UAAUpB,EAAMM,SAC5Ba,QAAQC,IAAI,YAAYnB,EAAQK,SAEhCE,aAAaa,WAAW,uBACxBxB,EAAKyB,SAPLnB,EAAAoB,GAASC,OAAOC,QAAQ,8B","sources":["src/tasks/3_video_and_form/js/feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nimport Notiflix from 'notiflix';\n\nconst form = document.querySelector('.video_and_form__feedback-form');\nconst email = document.querySelector('input[type=\"email\"]');\nconst message = document.querySelector('textarea[name=\"message\"]');\n\nconst saveFormState = throttle(() => {\n  const formState = {\n    email: email.value,\n    message: message.value,\n  };\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formState));\n}, 500);\n\nform.addEventListener('input', saveFormState);\n\nconst storedFormState = localStorage.getItem('feedback-form-state');\nif (storedFormState) {\n  const parsedFormState = JSON.parse(storedFormState);\n  email.value = parsedFormState.email;\n  message.value = parsedFormState.message;\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (email.value === '' || message.value === '') {\n    Notiflix.Notify.failure('Both fields must be filled!');\n    return;\n  } else {\n    console.log(`Email: ${email.value}`);\n    console.log(`Message: ${message.value}`);\n\n    localStorage.removeItem('feedback-form-state');\n    form.reset();\n  }\n});\n"],"names":["$9OeKo","parcelRequire","$d4192d31d6fdf103$var$form","document","querySelector","$d4192d31d6fdf103$var$email","$d4192d31d6fdf103$var$message","$d4192d31d6fdf103$var$saveFormState","$parcel$interopDefault","formState","email","value","message","localStorage","setItem","JSON","stringify","addEventListener","$d4192d31d6fdf103$var$storedFormState","getItem","parsedFormState","parse","event","preventDefault","console","log","removeItem","reset","$7Y9D8","Notify","failure"],"version":3,"file":"video_and_form.f3875be2.js.map"}