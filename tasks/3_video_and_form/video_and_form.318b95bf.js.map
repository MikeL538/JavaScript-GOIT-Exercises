{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAGMC,EAAOC,SAASC,cAAc,kCAC9BC,EAAQF,SAASC,cAAc,uBAC/BE,EAAUH,SAASC,cAAc,4BAEjCG,EAAgBC,EAAAR,EAAA,EAAS,WAC7B,IAAMS,EAAY,CAChBC,MAAOL,EAAMM,MACbC,QAASN,EAAQK,OAGnBE,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUP,G,GAC1D,KAEHP,EAAKe,iBAAiB,QAASV,GAE/B,IAAMW,EAAkBL,aAAaM,QAAQ,uBAC7C,GAAID,EAAiB,CACnB,IAAME,EAAkBL,KAAKM,MAAMH,GACnCb,EAAMM,MAAQS,EAAgBV,MAC9BJ,EAAQK,MAAQS,EAAgBR,O,CAGlCV,EAAKe,iBAAiB,UAAU,SAAAK,GAC9BA,EAAMC,iBACc,KAAhBlB,EAAMM,OAAkC,KAAlBL,EAAQK,OAIhCa,QAAQC,IAAI,UAAsBC,OAAZrB,EAAMM,QAC5Ba,QAAQC,IAAI,YAA0BC,OAAdpB,EAAQK,QAEhCE,aAAac,WAAW,uBACxBzB,EAAK0B,SAPLpB,EAAAqB,GAASC,OAAOC,QAAQ,8B","sources":["src/tasks/3_video_and_form/js/feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nimport Notiflix from 'notiflix';\n\nconst form = document.querySelector('.video_and_form__feedback-form');\nconst email = document.querySelector('input[type=\"email\"]');\nconst message = document.querySelector('textarea[name=\"message\"]');\n\nconst saveFormState = throttle(() => {\n  const formState = {\n    email: email.value,\n    message: message.value,\n  };\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formState));\n}, 500);\n\nform.addEventListener('input', saveFormState);\n\nconst storedFormState = localStorage.getItem('feedback-form-state');\nif (storedFormState) {\n  const parsedFormState = JSON.parse(storedFormState);\n  email.value = parsedFormState.email;\n  message.value = parsedFormState.message;\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (email.value === '' || message.value === '') {\n    Notiflix.Notify.failure('Both fields must be filled!');\n    return;\n  } else {\n    console.log(`Email: ${email.value}`);\n    console.log(`Message: ${message.value}`);\n\n    localStorage.removeItem('feedback-form-state');\n    form.reset();\n  }\n});\n"],"names":["$dCfNN","parcelRequire","$d5f18325e4b46355$var$form","document","querySelector","$d5f18325e4b46355$var$email","$d5f18325e4b46355$var$message","$d5f18325e4b46355$var$saveFormState","$parcel$interopDefault","formState","email","value","message","localStorage","setItem","JSON","stringify","addEventListener","$d5f18325e4b46355$var$storedFormState","getItem","$d5f18325e4b46355$var$parsedFormState","parse","event","preventDefault","console","log","concat","removeItem","reset","$6JpON","Notify","failure"],"version":3,"file":"video_and_form.318b95bf.js.map"}